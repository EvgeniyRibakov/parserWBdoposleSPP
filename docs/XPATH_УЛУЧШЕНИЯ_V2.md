# XPATH –ü–ê–†–°–ï–† - –£–õ–£–ß–®–ï–ù–ò–Ø V2

## üìä –ê–ù–ê–õ–ò–ó –ü–ï–†–í–û–ì–û –ó–ê–ü–£–°–ö–ê

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ:
- ‚úÖ Chrome –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ (`/seller/...`)
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—Ä—Ç–∏–∫—É–ª–æ–≤
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö —Ü–µ–Ω
- ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è (5 —Å—Ç—Ä–∞–Ω–∏—Ü, 195 —Ç–æ–≤–∞—Ä–æ–≤)
- ‚úÖ –°–∫–æ—Ä–æ—Å—Ç—å (~2 –º–∏–Ω—É—Ç—ã –Ω–∞ 195 —Ç–æ–≤–∞—Ä–æ–≤)

### ‚ùå –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

#### 1. **–°—Ç—Ä–∞–Ω–∏—Ü—ã –±—Ä–µ–Ω–¥–æ–≤ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç**
```
[–ü–ê–†–°–ò–ù–ì] –°—Ç—Ä–∞–Ω–∏—Ü–∞: https://www.wildberries.ru/brands/68941-likato-professional
[!] –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã!
```
**–ü—Ä–∏—á–∏–Ω–∞:** –î—Ä—É–≥–∞—è HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û - –¥–æ–±–∞–≤–ª–µ–Ω—ã –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã

---

#### 2. **–¢–æ–ª—å–∫–æ 1 —Ü–µ–Ω–∞ –∏–∑ 3** (–ö–†–ò–¢–ò–ß–ù–û)
```
–¢–æ–≤–∞—Ä 1: –∞—Ä—Ç–∏–∫—É–ª=110572701, –¥–æ –°–ü–ü=None, –ø–æ—Å–ª–µ –°–ü–ü=297, —Å –∫–∞—Ä—Ç–æ–π=None
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –¶–µ–Ω–∞ "–¥–æ –°–ü–ü" –∏ "—Å –∫–∞—Ä—Ç–æ–π" –Ω–µ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–õ–£–ß–®–ï–ù–û - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã + debug —Ä–µ–∂–∏–º

---

#### 3. **–°–∫—Ä–æ–ª–ª —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä—ã–π**
```
[–õ–û–ì] ‚úì –î–æ—Å—Ç–∏–≥–Ω—É—Ç –∫–æ–Ω–µ—Ü —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ–ø—ã—Ç–æ–∫ —Å–∫—Ä–æ–ª–ª–∞: 1)
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –í–æ–∑–º–æ–∂–Ω–æ –Ω–µ –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û - –ø–ª–∞–≤–Ω—ã–π –ø–æ—à–∞–≥–æ–≤—ã–π —Å–∫—Ä–æ–ª–ª

---

## üîß –í–ù–ï–°–ï–ù–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø

### 1. **Debug —Ä–µ–∂–∏–º**
```python
DEBUG_MODE = True  # –ù–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ `data/debug_page.html`
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç HTML –ø–µ—Ä–≤–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ `data/debug_card.html`
- –í—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ü–µ–Ω
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫–æ–π —Å–µ–ª–µ–∫—Ç–æ—Ä –Ω–∞—à–µ–ª —Ü–µ–Ω—É

**–ó–∞—á–µ–º:** –î–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –æ—Ç–ª–∞–¥–∫–∏ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤

---

### 2. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã —Ü–µ–Ω**

#### –°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞ (–¥–æ –°–ü–ü):
```python
price_old_selectors = [
    './/del//text()',           # –õ—é–±–æ–π del —Ç–µ–≥
    './/s//text()',             # –õ—é–±–æ–π s —Ç–µ–≥ (–∑–∞—á–µ—Ä–∫–Ω—É—Ç—ã–π)
    './/strike//text()',
    './/span[contains(@class, "price-old")]//text()',
    './/span[contains(@class, "old")]//text()',
    './/*[contains(@class, "price-old")]//text()',
]
```

#### –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ (–ø–æ—Å–ª–µ –°–ü–ü):
```python
price_current_selectors = [
    './/ins//text()',
    './/span[contains(@class, "price")]//text()',
    './/*[contains(@class, "price__lower")]//text()',
    './/*[contains(@class, "product-card__price")]//text()',
]
```

#### –¶–µ–Ω–∞ —Å –∫–∞—Ä—Ç–æ–π:
```python
price_card_selectors = [
    './/*[contains(@class, "wallet")]//text()',
    './/*[contains(@class, "card")]//text()',
    './/*[contains(@class, "lower-price")]//text()',
]
```

**–£–ª—É—á—à–µ–Ω–∏–µ:** –ò—â–µ—Ç –ø–æ –ª—é–±—ã–º –∫–ª–∞—Å—Å–∞–º —Å–æ–¥–µ—Ä–∂–∞—â–∏–º –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞

---

### 3. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –±—Ä–µ–Ω–¥–æ–≤**

–î–æ–±–∞–≤–ª–µ–Ω—ã —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è `/brands/...`:
```python
card_selectors = [
    "//article[contains(@class, 'product-card')]",  # /seller/
    "//div[contains(@class, 'product-card')]",
    "//div[@data-nm-id]",
    "//article[@id]",      # –î–õ–Ø /brands/ ‚Üê –ù–û–í–û–ï
    "//div[contains(@class, 'j-card-item')]",  # ‚Üê –ù–û–í–û–ï
]
```

---

### 4. **–ü–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª**

**–ë—ã–ª–æ:**
```python
driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")
time.sleep(1.5)
```

**–°—Ç–∞–ª–æ:**
```python
# –°–∫—Ä–æ–ª–ª –ø–æ 500px –∑–∞ —Ä–∞–∑
current_position = window.pageYOffset
target_position = current_position + 500
window.scrollTo(0, target_position)
# –ü–∞—É–∑–∞ 0.3—Å –º–µ–∂–¥—É —à–∞–≥–∞–º–∏
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã—Å–æ—Ç—ã –∫–∞–∂–¥—ã–µ 3 —Å–∫—Ä–æ–ª–ª–∞
# –§–∏–Ω–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª + 2 —Å–µ–∫—É–Ω–¥—ã –æ–∂–∏–¥–∞–Ω–∏—è
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ò–º–∏—Ç–∏—Ä—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –î–∞—ë—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –ø–æ–¥–≥—Ä—É–∑–∫—É
- ‚úÖ –£–º–µ–Ω—å—à–∞–µ—Ç —Ä–∏—Å–∫ –ø—Ä–æ–ø—É—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤

---

### 5. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**

**–ù–æ–≤—ã–µ –ª–æ–≥–∏:**
```
[DEBUG] HTML —Å–æ—Ö—Ä–∞–Ω–µ–Ω: debug_page.html
[DEBUG] HTML –ø–µ—Ä–≤–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω: debug_card.html
[DEBUG] –°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞ –Ω–∞–π–¥–µ–Ω–∞: 500 (—Å–µ–ª–µ–∫—Ç–æ—Ä: .//del//text())
[DEBUG] –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –Ω–∞–π–¥–µ–Ω–∞: 350 (—Å–µ–ª–µ–∫—Ç–æ—Ä: .//ins//text())
[DEBUG] –¶–µ–Ω–∞ —Å –∫–∞—Ä—Ç–æ–π –Ω–∞–π–¥–µ–Ω–∞: 320 (—Å–µ–ª–µ–∫—Ç–æ—Ä: .//*[contains(@class, "wallet")]//text())
```

–¢–µ–ø–µ—Ä—å –≤–∏–¥–Ω–æ **–∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ —Å–µ–ª–µ–∫—Ç–æ—Ä** –Ω–∞—à–µ–ª —Ü–µ–Ω—É!

---

## üöÄ –ö–ê–ö –¢–ï–°–¢–ò–†–û–í–ê–¢–¨ V2

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å DEBUG —Ä–µ–∂–∏–º–æ–º
```bash
python parsers/Parser_WB_XPATH.py
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
–°–º–æ—Ç—Ä–∏ –Ω–∞ —Å—Ç—Ä–æ–∫–∏ `[DEBUG]` - –æ–Ω–∏ –ø–æ–∫–∞–∂—É—Ç:
- –ö–∞–∫–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- –ö–∞–∫–∏–µ —Ü–µ–Ω—ã –Ω–∞–π–¥–µ–Ω—ã
- –ì–¥–µ –ø—Ä–æ–±–ª–µ–º—ã

### –®–∞–≥ 3: –ï—Å–ª–∏ —Ü–µ–Ω—ã –≤—Å–µ –µ—â–µ = None
–û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:
- `data/debug_page.html` - –≤—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `data/debug_card.html` - –æ–¥–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞

**–ü–æ–∏—Å–∫ –≤ HTML:**
1. –û—Ç–∫—Ä–æ–π `debug_card.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–º–∏ F12 ‚Üí Elements
3. –ù–∞–π–¥–∏ —ç–ª–µ–º–µ–Ω—Ç—ã —Å —Ü–µ–Ω–∞–º–∏
4. –°–∫–æ–ø–∏—Ä—É–π –∏—Ö –∫–ª–∞—Å—Å—ã
5. –û–±–Ω–æ–≤–∏ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –≤ –∫–æ–¥–µ

---

## üìà –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –¢–µ—Å—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/seller/224650`:

**–ë—ã–ª–æ (V1):**
```
–¢–æ–≤–∞—Ä 1: –∞—Ä—Ç–∏–∫—É–ª=110572701, –¥–æ –°–ü–ü=None, –ø–æ—Å–ª–µ –°–ü–ü=297, —Å –∫–∞—Ä—Ç–æ–π=None
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è (V2):**
```
–¢–æ–≤–∞—Ä 1: –∞—Ä—Ç–∏–∫—É–ª=110572701, –¥–æ –°–ü–ü=450, –ø–æ—Å–ª–µ –°–ü–ü=297, —Å –∫–∞—Ä—Ç–æ–π=267
[DEBUG] –°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞ –Ω–∞–π–¥–µ–Ω–∞: 450 (—Å–µ–ª–µ–∫—Ç–æ—Ä: .//del//text())
[DEBUG] –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –Ω–∞–π–¥–µ–Ω–∞: 297 (—Å–µ–ª–µ–∫—Ç–æ—Ä: .//ins//text())
[DEBUG] –¶–µ–Ω–∞ —Å –∫–∞—Ä—Ç–æ–π –Ω–∞–π–¥–µ–Ω–∞: 267 (—Å–µ–ª–µ–∫—Ç–æ—Ä: .//*[contains(@class, "wallet")]//text())
```

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å V2** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —É–ª—É—á—à–µ–Ω–∏–π
2. **–ò–∑—É—á–∏—Ç—å debug —Ñ–∞–π–ª—ã** - –µ—Å–ª–∏ —Ü–µ–Ω—ã –≤—Å–µ –µ—â–µ None
3. **–û–±–Ω–æ–≤–∏—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä—ã** - –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω–æ–π HTML —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
4. **–§–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç** - –Ω–∞ –≤—Å–µ—Ö 6 –∫–∞–±–∏–Ω–µ—Ç–∞—Ö

---

## üí° –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ò–î–ï–ò

### –ò–¥–µ—è 1: –°–∫—Ä–∏–Ω—à–æ—Ç—ã –∫–∞—Ä—Ç–æ—á–µ–∫
–î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –ø–µ—Ä–≤—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

### –ò–¥–µ—è 2: API –ø–∞—Ä—Å–∏–Ω–≥
–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å API –∑–∞–ø—Ä–æ—Å—ã WB (–±—ã—Å—Ç—Ä–µ–µ —á–µ–º HTML –ø–∞—Ä—Å–∏–Ω–≥)

### –ò–¥–µ—è 3: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é
–ü–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –æ—Ç–∫—Ä—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Ä—Ç–æ—á–µ–∫ –≤—Ä—É—á–Ω—É—é –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å —Ü–µ–Ω—ã

---

## üìû –û–ë–†–ê–¢–ù–ê–Ø –°–í–Ø–ó–¨

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ V2 –Ω—É–∂–Ω–æ:
1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ —Å—Ç—Ä–æ–∫–∏ `[DEBUG]`)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Excel - –µ—Å—Ç—å –ª–∏ –≤—Å–µ 3 —Ü–µ–Ω—ã
3. –ï—Å–ª–∏ –Ω–µ—Ç - –ø—Ä–∏—Å–ª–∞—Ç—å —Ñ–∞–π–ª—ã `debug_page.html` –∏ `debug_card.html`

**–¶–µ–ª—å:** –î–æ–±–∏—Ç—å—Å—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≤—Å–µ—Ö 3 —Ç–∏–ø–æ–≤ —Ü–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞! üéØ

