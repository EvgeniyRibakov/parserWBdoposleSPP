# –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞ - –ü–∞—Ä—Å–µ—Ä —Ü–µ–Ω Wildberries

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å Chrome Browser

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Chrome Profile 4 –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
**–û—à–∏–±–∫–∞**: `SessionNotCreatedException: DevToolsActivePort file doesn't exist`

**–ü—Ä–∏—á–∏–Ω–∞**:
- Chrome Profile 4 –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω lock-—Ñ–∞–π–ª–∞–º–∏
- –†–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Selenium
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å —É–∂–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ Chrome

**–†–ï–®–ï–ù–ò–ï**:
1. ‚ùå **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ–º** –ø—Ä—è–º–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ Profile 4
2. ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–µ–º** `undetected-chromedriver` —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º –ø—Ä–æ—Ñ–∏–ª–µ–º
3. ‚úÖ **–ö–æ–ø–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ** –∏–∑ Profile 4 –≤ —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ñ–∏–ª—å –ø–∞—Ä—Å–µ—Ä–∞

```python
# –ü—É—Ç—å –∫ —Ä–∞–±–æ—á–µ–º—É –ø—Ä–æ—Ñ–∏–ª—é –ø–∞—Ä—Å–µ—Ä–∞
PARSER_PROFILE_DIR = os.path.join(os.getcwd(), "chrome_parser_profile")

# –ò—Å–ø–æ–ª—å–∑—É–µ–º undetected-chromedriver
import undetected_chromedriver as uc
driver = uc.Chrome(user_data_dir=PARSER_PROFILE_DIR)
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ Profile 4
**–ö–†–ò–¢–ò–ß–ù–û –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å**:
- ‚úÖ `Network\Cookies` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞ —Å–∞–π—Ç–µ
- ‚úÖ `Login Data` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ª–æ–≥–∏–Ω—ã
- ‚úÖ `Preferences` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –≤–∫–ª—é—á–∞—è –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏
- ‚úÖ `Web Data` - –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º
- ‚úÖ `Local Storage` - –¥–∞–Ω–Ω—ã–µ —Å–∞–π—Ç–æ–≤
- ‚úÖ `Session Storage` - —Å–µ—Å—Å–∏–∏
- ‚úÖ `IndexedDB` - –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–∞–π—Ç–æ–≤
- ‚úÖ `History` - –∏—Å—Ç–æ—Ä–∏—è –±—Ä–∞—É–∑–µ—Ä–∞

**–ù–ï –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å**:
- ‚ùå `Extensions` - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –±–ª–æ–∫–∏—Ä—É—é—Ç Selenium
- ‚ùå `SingletonLock`, `lockfile` - lock-—Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã

```python
def copy_profile_data(source_profile_path, destination_profile_path):
    """–ö–æ–ø–∏—Ä—É–µ—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ Profile 4 –≤ —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ñ–∏–ª—å"""
    files_to_copy = [
        'Network\\Cookies',
        'Login Data',
        'Preferences',
        'Web Data',
        'History'
    ]
    dirs_to_copy = [
        'Local Storage',
        'Session Storage',
        'IndexedDB'
    ]
    # ... –∫–æ–¥ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏
**–†–ï–®–ï–ù–ò–ï**: –†—É—á–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

–ü–æ—Å–ª–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ Profile 4:
1. –ü–∞—Ä—Å–µ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Chrome —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º –ø—Ä–æ—Ñ–∏–ª–µ–º
2. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É WB
3. **–ü–ê–£–ó–ê 120 —Å–µ–∫—É–Ω–¥** –¥–ª—è —Ä—É—á–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∞–¥—Ä–µ—Å
5. Chrome —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ `chrome_parser_profile`
6. –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—É—Å–∫–∞—Ö –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

```python
print("üìã –ò–ù–°–¢–†–£–ö–¶–ò–Ø:")
print("   1. –í –æ—Ç–∫—Ä—ã–≤—à–µ–º—Å—è Chrome –∑–∞–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç WB")
print("   2. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –≤ —Å–≤–æ–µ–º –∞–∫–∫–∞—É–Ω—Ç–µ")
print("   3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏")
print("   4. –ù–∞–∂–º–∏—Ç–µ ENTER –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –≥–æ—Ç–æ–≤—ã")

driver.get("https://www.wildberries.ru")
input("–ù–∞–∂–º–∏—Ç–µ ENTER –∫–æ–≥–¥–∞ –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç–µ—Å—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∞–¥—Ä–µ—Å >>>")
```

---

## üîó –†–∞–±–æ—Ç–∞ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–æ–≤–æ–µ –æ–∫–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
**–ü–ª–æ—Ö–æ**: –ü–∞—Ä—Å–µ—Ä –æ—Ç–∫—Ä—ã–≤–∞–ª –∫–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ Chrome
- 925 —Ç–æ–≤–∞—Ä–æ–≤ = 925 –æ–∫–æ–Ω –±—Ä–∞—É–∑–µ—Ä–∞ ‚ùå
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
- –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã

**–†–ï–®–ï–ù–ò–ï**: –û—Ç–∫—Ä—ã–≤–∞—Ç—å —Ç–æ–≤–∞—Ä—ã –≤ –Ω–æ–≤—ã—Ö –≤–∫–ª–∞–¥–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –æ–∫–Ω–∞

```python
# ‚ùå –°–¢–ê–†–´–ô –ö–û–î (–Ω–æ–≤–æ–µ –æ–∫–Ω–æ)
driver.get(product_url)

# ‚úÖ –ù–û–í–´–ô –ö–û–î (–Ω–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞)
# –û—Ç–∫—Ä—ã–≤–∞–µ–º –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
driver.execute_script("window.open(arguments[0], '_blank');", product_url)

# –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É
driver.switch_to.window(driver.window_handles[-1])

# ... –ø–∞—Ä—Å–∏–º —Ü–µ–Ω—É ...

# –ó–∞–∫—Ä—ã–≤–∞–µ–º –≤–∫–ª–∞–¥–∫—É –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
driver.close()
driver.switch_to.window(driver.window_handles[0])  # –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –ø–µ—Ä–≤—É—é –≤–∫–ª–∞–¥–∫—É
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –í—Å–µ —Ç–æ–≤–∞—Ä—ã –≤ –æ–¥–Ω–æ–º –æ–∫–Ω–µ
- ‚úÖ –õ–µ–≥–∫–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
- ‚úÖ –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º—É
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –≤–∫–ª–∞–¥–æ–∫ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏

---

## üí∞ –ü–∞—Ä—Å–∏–Ω–≥ —Ü–µ–Ω —Å Wildberries

### –ü—Ä–æ–±–ª–µ–º–∞: –†–∞–∑–Ω—ã–µ —Ü–µ–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–æ–≤–∞—Ä–∞
–ù–∞ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞ WB –º–æ–∂–µ—Ç –±—ã—Ç—å **–¥–≤–µ** —Ü–µ–Ω—ã:
- **–¶–µ–Ω–∞ —Å WB –ö–æ—à–µ–ª—å–∫–æ–º** (–∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞) - 349 ‚ÇΩ
- **–§–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞** (—á–µ—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç) - 364 ‚ÇΩ

### –†–ï–®–ï–ù–ò–ï: –ö–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ –∫–æ—à–µ–ª—å–∫–∞ ‚Üí –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã

#### –®–∞–≥ 0: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ç–æ–≤–∞—Ä–∞ (–ö–†–ò–¢–ò–ß–ù–û!)
**–í–°–ï–ì–î–ê** –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º:
```html
<h2 class="... soldOutProduct--vCzrv">–ù–µ—Ç –≤&nbsp;–Ω–∞–ª–∏—á–∏–∏</h2>
```

```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —ç–ª–µ–º–µ–Ω—Ç "–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏"
try:
    sold_out = driver.find_element(By.CSS_SELECTOR, "h2[class*='soldOutProduct']")
    print(f"  ‚ö† –¢–æ–≤–∞—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω")
    driver.close()
    return 0  # –ü–†–û–ü–£–°–ö–ê–ï–ú —Ç–æ–≤–∞—Ä
except:
    pass  # –¢–æ–≤–∞—Ä –≤ –Ω–∞–ª–∏—á–∏–∏ - –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º
```

#### –®–∞–≥ 1: –ù–∞–π—Ç–∏ –∏ –∫–ª–∏–∫–Ω—É—Ç—å –∫–Ω–æ–ø–∫—É –∫–æ—à–µ–ª—å–∫–∞
```html
<!-- –ö–Ω–æ–ø–∫–∞ –∏–∑ tap_find_black_price.html -->
<button class="mo-button ... priceBlockWalletPrice--RJGuT" type="button">
  <h2>349&nbsp;‚ÇΩ</h2>
</button>
```

```python
try:
    wallet_button = WebDriverWait(driver, 3).until(
        EC.element_to_be_clickable((By.CSS_SELECTOR, "button[class*='priceBlockWalletPrice']"))
    )
    print(f"  ‚ö† –ù–∞–π–¥–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –∫–æ—à–µ–ª—å–∫–∞, –∫–ª–∏–∫–∞—é...")
    wallet_button.click()
    time.sleep(1)  # –ñ–¥–µ–º –ø–æ—è–≤–ª–µ–Ω–∏—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã
except:
    print(f"  ‚Ñπ –ö–Ω–æ–ø–∫–∞ –∫–æ—à–µ–ª—å–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –∏—â—É –æ–±—ã—á–Ω—É—é —Ü–µ–Ω—É")
```

#### –®–∞–≥ 2: –ò–∑–≤–ª–µ—á—å —Ñ–∏–Ω–∞–ª—å–Ω—É—é —Ü–µ–Ω—É
```html
<!-- –§–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –∏–∑ copy_black_price.html -->
<h2 class="mo-typography ... mo-typography_color_primary">364&nbsp;‚ÇΩ</h2>
```

```python
price_selectors = [
    # –ü–†–ò–û–†–ò–¢–ï–¢ 1: –§–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ (—á–µ—Ä–Ω–∞—è)
    (By.CSS_SELECTOR, "h2.mo-typography_color_primary"),
    (By.CSS_SELECTOR, "h2[class*='mo-typography'][class*='color_primary']"),
    
    # –ü–†–ò–û–†–ò–¢–ï–¢ 2: –û–±—ã—á–Ω–∞—è —Ü–µ–Ω–∞ (fallback)
    (By.CSS_SELECTOR, "ins[class*='priceBlockFinalPrice']"),
]

for by, selector in price_selectors:
    try:
        price_elem = WebDriverWait(driver, 5).until(
            EC.presence_of_element_located((by, selector))
        )
        price_text = price_elem.text.strip()
        # –£–±–∏—Ä–∞–µ–º –≤—Å–µ –Ω–µ—Ü–∏—Ñ—Ä–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã (&nbsp;, ‚ÇΩ, –ø—Ä–æ–±–µ–ª—ã)
        price = int(re.sub(r'[^\d]', '', price_text))
        print(f"  ‚úì –¶–µ–Ω–∞ –Ω–∞–π–¥–µ–Ω–∞: {price} ‚ÇΩ")
        break
    except:
        continue
```

**–í–∞–∂–Ω–æ**:
- –ù–µ –Ω–∞ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–∞—Ö –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞ –∫–æ—à–µ–ª—å–∫–∞
- –§–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ ‚â§ —Ü–µ–Ω–∞ —Å –∫–æ—à–µ–ª—å–∫–æ–º
- –£–±–∏—Ä–∞—Ç—å `&nbsp;` –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ (`re.sub(r'[^\d]', '', text)`)

---

## üö´ –ß—Ç–æ –ù–ï –¥–µ–ª–∞—Ç—å

### ‚ùå –ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å Chrome –ø—Ä–æ—Ñ–∏–ª–∏ –≤ git!
**–ö–†–ò–¢–ò–ß–ù–û!** üî• –°–º. [–ü–†–û–ë–õ–ï–ú–ê_GIT_–ë–û–õ–¨–®–ò–ï_–§–ê–ô–õ–´.md](–ü–†–û–ë–õ–ï–ú–ê_GIT_–ë–û–õ–¨–®–ò–ï_–§–ê–ô–õ–´.md)

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–∞–ø–∫–∏ `chrome_parser_profile/` –∏ `chrome_temp_profile/` —Å–æ–¥–µ—Ä–∂–∞—Ç:
- –ö–µ—à–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (76+ –ú–ë –Ω–∞ —Ñ–∞–π–ª)
- –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (cookies, –ø–∞—Ä–æ–ª–∏, –∏—Å—Ç–æ—Ä–∏—è)
- 1971 —Ñ–∞–π–ª –≤–º–µ—Å—Ç–æ 3

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**:
- `git push` –∑–∞–Ω–∏–º–∞–µ—Ç –º–∏–Ω—É—Ç—ã –≤–º–µ—Å—Ç–æ —Å–µ–∫—É–Ω–¥
- GitHub —Ä—É–≥–∞–µ—Ç—Å—è –Ω–∞ —Ñ–∞–π–ª—ã > 50 –ú–ë
- –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ–ø–∞–¥–∞—é—Ç –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–†–µ—à–µ–Ω–∏–µ**:
```gitignore
# .gitignore
chrome_parser_profile/
chrome_temp_profile/
**/Cache/
```

```powershell
# –ï—Å–ª–∏ —Å–ª—É—á–∞–π–Ω–æ –∑–∞–∫–æ–º–º–∏—Ç–∏–ª:
git rm -r --cached chrome_parser_profile
git commit -m "–£–¥–∞–ª–µ–Ω—ã Chrome –ø—Ä–æ—Ñ–∏–ª–∏"
```

### ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞—Ç–Ω–∏–∫ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Chrome
```batch
# –ü–õ–û–•–û - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ!
start chrome --remote-debugging-port=9222
```
**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ, —Å–æ–∑–¥–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

### ‚ùå –ù–ï –æ—Ç–∫—Ä—ã–≤–∞—Ç—å Profile 4 –Ω–∞–ø—Ä—è–º—É—é
```python
# –ü–õ–û–•–û - –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É DevToolsActivePort!
options.add_argument("--user-data-dir=...\\User Data")
options.add_argument("--profile-directory=Profile 4")
driver = webdriver.Chrome(options=options)
```

### ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–π webdriver –¥–ª—è WB
```python
# –ü–õ–û–•–û - WB –æ–±–Ω–∞—Ä—É–∂–∏—Ç –±–æ—Ç–∞!
from selenium import webdriver
driver = webdriver.Chrome()
```
**–ü—Ä–∏—á–∏–Ω–∞**: WB –¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç Selenium, –Ω—É–∂–µ–Ω `undetected-chromedriver`

### ‚ùå –ù–ï –ø–∞—Ä—Å–∏—Ç—å —Ç–æ–ª—å–∫–æ –∫—Ä–∞—Å–Ω—É—é —Ü–µ–Ω—É
```python
# –ü–õ–û–•–û - —ç—Ç–æ –ù–ï —Ñ–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞!
price = driver.find_element(By.CSS_SELECTOR, "button[class*='WalletPrice']")
```
**–ü—Ä–∏—á–∏–Ω–∞**: –≠—Ç–æ —Ü–µ–Ω–∞ —Å –∫–æ—à–µ–ª—å–∫–æ–º, –Ω—É–∂–Ω–∞ —á–µ—Ä–Ω–∞—è —Ü–µ–Ω–∞

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞
- [x] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `undetected-chromedriver`
- [x] –°–æ–∑–¥–∞–µ—Ç—Å—è `chrome_parser_profile` –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
- [x] –ö–æ–ø–∏—Ä—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ Profile 4
- [x] –ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞ –ø–∞—É–∑–∞ –¥–ª—è —Ä—É—á–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫)
- [x] Chrome –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ –≤–µ—Å—å –ø–∞—Ä—Å–∏–Ω–≥

### –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤
- [x] –¢–æ–≤–∞—Ä—ã –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤ –Ω–æ–≤—ã—Ö –≤–∫–ª–∞–¥–∫–∞—Ö (–Ω–µ –æ–∫–Ω–∞—Ö)
- [x] –í–∫–ª–∞–¥–∫–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- [x] –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –ø–µ—Ä–≤—É—é –≤–∫–ª–∞–¥–∫—É –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ –≤–∫–ª–∞–¥–æ–∫ –≤ `except`

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ü–µ–Ω—ã
- [x] **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ç–æ–≤–∞—Ä–∞** (—ç–ª–µ–º–µ–Ω—Ç `h2[class*='soldOutProduct']`)
- [x] –ü–æ–ø—ã—Ç–∫–∞ –∫–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É –∫–æ—à–µ–ª—å–∫–∞
- [x] –ü–æ–∏—Å–∫ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã (`h2.mo-typography_color_primary`)
- [x] Fallback –Ω–∞ –æ–±—ã—á–Ω—É—é —Ü–µ–Ω—É
- [x] –û—á–∏—Å—Ç–∫–∞ –Ω–µ—Ü–∏—Ñ—Ä–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ (`re.sub(r'[^\d]', '', text)`)

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞

```
wb beforeafter spp prices/
‚îú‚îÄ‚îÄ Parser_WB_Search.py          # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä
‚îú‚îÄ‚îÄ articles_prices_search.xlsx  # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ chrome_parser_profile/        # –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ñ–∏–ª—å Chrome (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ Network/Cookies           # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è WB
‚îÇ   ‚îú‚îÄ‚îÄ Login Data                # –õ–æ–≥–∏–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ Preferences               # –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ code_pages/                   # –ü—Ä–∏–º–µ—Ä—ã HTML –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ elements/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tap_find_black_price.html    # –ö–Ω–æ–ø–∫–∞ –∫–æ—à–µ–ª—å–∫–∞ (349‚ÇΩ)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ copy_black_price.html        # –§–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (364‚ÇΩ)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sold_out_product.html        # –ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ pages/
‚îÇ       ‚îî‚îÄ‚îÄ product_page_example.html    # –ü–æ–ª–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞
‚îú‚îÄ‚îÄ –ü–†–ê–í–ò–õ–ê_–ü–†–û–ï–ö–¢–ê.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îî‚îÄ‚îÄ –ü–†–ê–í–ò–õ–ê_–ü–ê–†–°–ò–ù–ì–ê_WB.md       # –î–µ—Ç–∞–ª–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ü–µ–Ω
```

---

## üîÑ –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç—ã –ø–∞—Ä—Å–µ—Ä–∞

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**:
   - –ß—Ç–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∞—Ä—Ç–∏–∫—É–ª–æ–≤ –∏–∑ Excel
   - –°–æ–∑–¥–∞–Ω–∏–µ/–æ—á–∏—Å—Ç–∫–∞ `chrome_parser_profile`
   - –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Profile 4

2. **–ó–∞–ø—É—Å–∫ Chrome**:
   - –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `undetected-chromedriver`
   - –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é WB
   - –ü–∞—É–∑–∞ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

3. **–ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤** (—Ü–∏–∫–ª):
   - –û—Ç–∫—Ä—ã—Ç–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
   - **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è** (—ç–ª–µ–º–µ–Ω—Ç `soldOutProduct`)
   - –ï—Å–ª–∏ —Ç–æ–≤–∞—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí –∑–∞–∫—Ä—ã—Ç—å –≤–∫–ª–∞–¥–∫—É, –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
   - –ö–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É –∫–æ—à–µ–ª—å–∫–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã
   - –ó–∞–∫—Ä—ã—Ç–∏–µ –≤–∫–ª–∞–¥–∫–∏
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

4. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ**:
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Excel
   - –ó–∞–∫—Ä—ã—Ç–∏–µ Chrome
   - –í—ã–≤–æ–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

## üêõ –†–µ—à–µ–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Chrome —Ä–∞–∑–æ—Ä–≤–∞–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ"
**–†–µ—à–µ–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
```python
except InvalidSessionIdException:
    print(f"  ‚úó –°–µ—Å—Å–∏—è Chrome —Ä–∞–∑–æ—Ä–≤–∞–Ω–∞")
    driver = setup_browser_driver()  # –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Captcha –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ"
**–†–µ—à–µ–Ω–∏–µ**: –û–∂–∏–¥–∞–Ω–∏–µ 10 —Å–µ–∫—É–Ω–¥
```python
if "–ü–æ—á—Ç–∏ –≥–æ—Ç–æ–≤–æ" in driver.title or "captcha" in driver.page_source.lower():
    print(f"  ‚ö† Captcha! –ñ–¥—É 10 —Å–µ–∫...")
    time.sleep(10)
```

### –ü—Ä–æ–±–ª–µ–º–∞: "–¢–æ–≤–∞—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ `soldOutProduct` (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)
```html
<h2 class="mo-typography ... soldOutProduct--vCzrv">–ù–µ—Ç –≤&nbsp;–Ω–∞–ª–∏—á–∏–∏</h2>
```

```python
# –ü–†–ò–û–†–ò–¢–ï–¢ 1: –ü—Ä–æ–≤–µ—Ä—è–µ–º —ç–ª–µ–º–µ–Ω—Ç soldOutProduct
try:
    sold_out_element = driver.find_element(By.CSS_SELECTOR, "h2[class*='soldOutProduct']")
    print(f"  ‚ö† –¢–æ–≤–∞—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: {sold_out_element.text}")
    return 0  # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Ç–æ–≤–∞—Ä
except:
    pass  # –¢–æ–≤–∞—Ä –≤ –Ω–∞–ª–∏—á–∏–∏

# –ü–†–ò–û–†–ò–¢–ï–¢ 2: Fallback - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
unavailable_keywords = [
    '–Ω–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏',
    '—Ç–æ–≤–∞—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω',
    '–Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∑–∞–∫–∞–∑–∞',
    '–∑–∞–∫–æ–Ω—á–∏–ª—Å—è',
    '—Ä–∞—Å–ø—Ä–æ–¥–∞–Ω'
]
```

---

## üìù –ò—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏–π

| –î–∞—Ç–∞ | –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|------|----------|---------|
| - | Chrome Profile 4 –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è | –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ undetected-chromedriver + –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å |
| - | WB –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –ø–æ—Å–ª–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è cookies | –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ä—É—á–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ |
| - | 925 –æ–∫–æ–Ω Chrome –¥–ª—è 925 —Ç–æ–≤–∞—Ä–æ–≤ | –û—Ç–∫—Ä—ã—Ç–∏–µ –≤ –Ω–æ–≤—ã—Ö –≤–∫–ª–∞–¥–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –æ–∫–Ω–∞ |
| - | –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (–∫—Ä–∞—Å–Ω–∞—è –≤–º–µ—Å—Ç–æ —á–µ—Ä–Ω–æ–π) | –ö–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É –∫–æ—à–µ–ª—å–∫–∞ + –ø–∞—Ä—Å–∏–Ω–≥ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã |
| - | –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π | –í–∫–ª—é—á–µ–Ω –≤ –ø—Ä–æ—Ü–µ—Å—Å —Ä—É—á–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ |
| - | –ü–∞—Ä—Å–µ—Ä –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã | –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ `h2[class*='soldOutProduct']` |

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞ —É—Å–ø–µ—Ö–∞

```
undetected-chromedriver 
+ –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å 
+ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Profile 4
+ —Ä—É—á–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (1 —Ä–∞–∑)
+ –æ—Ç–∫—Ä—ã—Ç–∏–µ –≤ –≤–∫–ª–∞–¥–∫–∞—Ö
+ –ü–†–û–í–ï–†–ö–ê –ù–ê–õ–ò–ß–ò–Ø (soldOutProduct)
+ –∫–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É –∫–æ—à–µ–ª—å–∫–∞
+ –ø–∞—Ä—Å–∏–Ω–≥ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã
= –†–ê–ë–û–¢–ê–Æ–©–ò–ô –ü–ê–†–°–ï–† ‚úÖ
```

## üîç –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ü–µ–Ω—ã

```
1. –û—Ç–∫—Ä—ã—Ç—å —Ç–æ–≤–∞—Ä –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
2. ‚ö†Ô∏è –ü–†–û–í–ï–†–ò–¢–¨ —ç–ª–µ–º–µ–Ω—Ç soldOutProduct
   ‚îî‚îÄ –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω ‚Üí –∑–∞–∫—Ä—ã—Ç—å –≤–∫–ª–∞–¥–∫—É, return 0
3. –ù–∞–π—Ç–∏ –∫–Ω–æ–ø–∫—É –∫–æ—à–µ–ª—å–∫–∞ (priceBlockWalletPrice)
   ‚îî‚îÄ –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–∞ ‚Üí –∫–ª–∏–∫–Ω—É—Ç—å, –ø–æ–¥–æ–∂–¥–∞—Ç—å 1 —Å–µ–∫
4. –ò—Å–∫–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—É—é —Ü–µ–Ω—É (mo-typography_color_primary)
   ‚îî‚îÄ –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ ‚Üí –∏—Å–∫–∞—Ç—å –æ–±—ã—á–Ω—É—é —Ü–µ–Ω—É
5. –ò–∑–≤–ª–µ—á—å —á–∏—Å–ª–æ –∏–∑ —Ç–µ–∫—Å—Ç–∞ (—É–±—Ä–∞—Ç—å &nbsp;, ‚ÇΩ)
6. –ó–∞–∫—Ä—ã—Ç—å –≤–∫–ª–∞–¥–∫—É
7. –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –ø–µ—Ä–≤—É—é –≤–∫–ª–∞–¥–∫—É
```

